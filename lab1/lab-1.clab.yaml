name: lab_1

topology:
  nodes:
    R1:
      kind: vr-mikrotik_ros
      image: vrnetlab/mikrotik_routeros:6.47.9
      mgmt-ipv4: 172.10.0.11
      startup-config: ./configs/R1.rsc
    SW1:
      kind: vr-mikrotik_ros
      image: vrnetlab/mikrotik_routeros:6.47.9
      mgmt-ipv4: 172.10.0.12
      startup-config: ./configs/SW1.rsc
    SW2:
      kind: vr-mikrotik_ros
      image: vrnetlab/mikrotik_routeros:6.47.9
      mgmt-ipv4: 172.10.0.13
      startup-config: ./configs/SW2.rsc
    SW3:
      kind: vr-mikrotik_ros
      image: vrnetlab/mikrotik_routeros:6.47.9
      mgmt-ipv4: 172.10.0.14
      startup-config: ./configs/SW3.rsc
    PC1:
      kind: linux
      image: alpine:latest
      binds:
        - ./configs:/configs
      exec:
        - sh /configs/PC1.sh
    PC2:
      kind: linux
      image: alpine:latest
      binds:
        - ./configs:/configs
      exec:
        - sh /configs/PC2.sh

  links:
    - endpoints: ["R1:eth2", "SW1:eth2"]
    - endpoints: ["SW1:eth3", "SW2:eth2"]
    - endpoints: ["SW1:eth4", "SW3:eth2"]
    - endpoints: ["SW2:eth3", "PC1:eth2"]
    - endpoints: ["SW3:eth3", "PC2:eth2"]

mgmt:
  network: lab-1
  ipv4-subnet: 172.10.0.0/24
